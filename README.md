# STT Agent (é†«ç™‚éŸ³è¨ŠåŠ©ç†)

å°ˆç‚ºé†«ç™‚å°ˆæ¥­äººå“¡è¨­è¨ˆçš„å¼·å¤§ã€å®‰å…¨ä¸”è·¨å¹³å°çš„æ¡Œé¢æ‡‰ç”¨ç¨‹å¼ï¼Œç”¨æ–¼é«˜æ•ˆè™•ç†ã€ç·¨è¼¯å’Œåˆ†æéŒ„éŸ³æª”æ¡ˆã€‚åŸºæ–¼ **Rust** çš„ç©©å¥æ€§èˆ‡ **React** çš„éˆæ´»æ€§æ§‹å»ºã€‚

![Version](https://img.shields.io/badge/version-1.0.4-blue.svg)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20Linux-lightgrey.svg)
![Tauri](https://img.shields.io/badge/built%20with-Tauri_v2-orange.svg)

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½ (Features)

1.  **å…¨èƒ½è½‰æª” (Format Converter)**
    *   æ”¯æ´å°‡å¤šç¨®å½±éŸ³æ ¼å¼ (m4a, mp4, wav ç­‰) è½‰æ›ç‚ºæ¨™æº– **MP3**ã€‚
    *   è‡ªå‹•å»ºç«‹ä¸¦æ•´ç†æ¨™æº–åŒ–çš„å°ˆæ¡ˆè³‡æ–™å¤¾çµæ§‹ã€‚
    *   æ ¸å¿ƒæ¡ç”¨æ¥­ç•Œæ¨™æº– **FFmpeg** æŠ€è¡“ã€‚

2.  **ç²¾æº–åˆ‡å‰² (Smart Splitter)**
    *   æ ¹æ“šç²¾ç¢ºçš„æ™‚é–“æˆ³è¨˜ï¼Œå°‡é•·éŒ„éŸ³åˆ†å‰²ç‚ºå¤šå€‹ç‰‡æ®µã€‚
    *   èƒ½å¤ å¿«é€Ÿå°‡å–®æ¬¡éŒ„éŸ³ä¸­çš„å¤šå€‹ä¸åŒç—…æ‚£æ¡ˆä¾‹åˆ†é›¢å‡ºä¾†ã€‚

3.  **éš±ç§æ¶ˆéŸ³ (Silence Processing)**
    *   **éš±ç§å„ªå…ˆ**ï¼šä¸€éµæ‰‹å‹•å°‡ç‰¹å®šæ™‚é–“å€æ®µ (å¦‚ç—…æ‚£å§“åã€å€‹è³‡) é€²è¡ŒéœéŸ³è™•ç†ã€‚
    *   ä½¿ç”¨é«˜å“è³ªéœéŸ³æ¿¾æ³¢å™¨é‡æ–°ç·¨ç¢¼ï¼Œç¢ºä¿æ•æ„Ÿè³‡æ–™å¾¹åº•å»è­˜åˆ¥åŒ–ã€‚

4.  **æ™ºæ…§å ±å‘Š (AI Reporting)**
    *   æ·±åº¦æ•´åˆ **Google Gemini Pro** æ¨¡å‹ã€‚
    *   ç”Ÿæˆã€Œé€å­—ç¨¿ç­‰ç´šã€çš„é«˜è§£æåº¦é†«ç™‚ç´€éŒ„å ±å‘Šã€‚
    *   é€é Google GenAI API å®‰å…¨è™•ç†æª”æ¡ˆä¸Šå‚³èˆ‡å ±å‘Šç”Ÿæˆã€‚

---

## ğŸ“¦ ä½¿ç”¨è€…æŒ‡å—ï¼šå®‰è£æ•™å­¸ (Installation)

### Windows ä½¿ç”¨è€…
1.  å‰å¾€æœ¬å°ˆæ¡ˆçš„ **Actions** é ç±¤ã€‚
2.  é»æ“Šåˆ—è¡¨æœ€ä¸Šæ–¹æœ€æ–°çš„æˆåŠŸ **Workflow Run** (é€šå¸¸æœ‰ç¶ è‰²å‹¾å‹¾)ã€‚
3.  æ»‘åˆ°é é¢æœ€ä¸‹æ–¹çš„ **Artifacts** å€å¡Šï¼Œä¸‹è¼‰ `windows-installer`ã€‚
4.  è§£å£“ç¸®ä¸‹è¼‰çš„æª”æ¡ˆï¼ŒåŸ·è¡Œå®‰è£ç¨‹å¼ (`.exe`) ä¸¦ä¾ç…§æŒ‡ç¤ºå®‰è£ã€‚
5.  æœ¬ç¨‹å¼å·²å…§å»º FFmpegï¼Œ**ç„¡éœ€å®‰è£ä»»ä½•é¡å¤–è»Ÿé«”**å³å¯ä½¿ç”¨ã€‚

### Linux ä½¿ç”¨è€… (Ubuntu/Debian)
1.  å‰å¾€æœ¬å°ˆæ¡ˆçš„ **Actions** é ç±¤ã€‚
2.  é»æ“Šåˆ—è¡¨æœ€ä¸Šæ–¹æœ€æ–°çš„æˆåŠŸ **Workflow Run**ã€‚
3.  æ»‘åˆ°é é¢æœ€ä¸‹æ–¹çš„ **Artifacts** å€å¡Šï¼Œä¸‹è¼‰ `Linux-Installer`ã€‚
4.  è§£å£“ç¸®æª”æ¡ˆï¼Œé–‹å•Ÿçµ‚ç«¯æ©Ÿ (Terminal) ä¸¦ä½¿ç”¨ `apt` å®‰è£ (ç³»çµ±æœƒè‡ªå‹•è™•ç†ç›¸ä¾æ€§)ï¼š
    ```bash
    # æ³¨æ„ï¼šArtifacts é€šå¸¸æ˜¯ zip å£“ç¸®æª”ï¼Œè«‹å…ˆè§£å£“
    unzip Linux-Installer.zip
    
    # åŸ·è¡Œå®‰è£ (è«‹å°‡æª”åæ›¿æ›ç‚ºå¯¦éš›ä¸‹è¼‰çš„ç‰ˆæœ¬)
    sudo apt install ./STT_Agent_1.0.4_amd64.deb
    ```
5.  å®‰è£å®Œæˆå¾Œï¼Œåœ¨æ‡‰ç”¨ç¨‹å¼é¸å–®æœå°‹ **"STT Agent"**ï¼Œæˆ–åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ `stt-agent` å³å¯å•Ÿå‹•ã€‚

---

## ğŸ›  é–‹ç™¼è€…æŒ‡å—ï¼šç’°å¢ƒå»ºç½® (Getting Started)

å¦‚æœæ‚¨å¸Œæœ›å¾åŸå§‹ç¢¼è‡ªè¡Œç·¨è­¯ï¼Œè«‹åƒè€ƒä»¥ä¸‹æ­¥é©Ÿã€‚

### 1. å¿…å‚™ç’°å¢ƒ (Prerequisites)
*   **Node.js**: v20 æˆ–ä»¥ä¸Šç‰ˆæœ¬ã€‚
*   **Rust**: è«‹å®‰è£æœ€æ–°ç©©å®šç‰ˆ (`rustup update`)ã€‚
*   **FFmpeg**: æœ¬åœ°é–‹ç™¼æ™‚ï¼Œæ‚¨çš„é›»è…¦å¿…é ˆå·²å®‰è£ FFmpeg ä¸¦è¨­å®šå¥½ç’°å¢ƒè®Šæ•¸ (PATH)ã€‚

#### Linux ç’°å¢ƒéœ€æ±‚ (Ubuntu)
æ‚¨éœ€è¦å®‰è£ Tauri å’Œ WebKit çš„ç³»çµ±ä¾è³´å¥—ä»¶ï¼š
```bash
sudo apt update
sudo apt install libwebkit2gtk-4.1-dev build-essential curl wget file libssl-dev libgtk-3-dev libayatana-appindicator3-dev librsvg2-dev libasound2-dev
```

### 2. å°ˆæ¡ˆåˆå§‹åŒ–
Clone å°ˆæ¡ˆå¾Œï¼Œå®‰è£ç›¸é—œä¾è³´ï¼š

```bash
# 1. å®‰è£å‰ç«¯å¥—ä»¶
npm install

# 2. æª¢æŸ¥ Rust ç’°å¢ƒèˆ‡ä¾è³´
cd src-tauri
cargo check
cd ..
```

### 3. å•Ÿå‹•é–‹ç™¼æ¨¡å¼ (Development Mode)
ä½¿ç”¨æ”¯æ´ç†±é‡è¼‰ (Hot-reloading) çš„é–‹ç™¼æ¨¡å¼ï¼š

```bash
npm run tauri dev
```
*   **å‰ç«¯**: é‹è¡Œæ–¼ `localhost:1420`ã€‚
*   **å¾Œç«¯**: å³æ™‚ç·¨è­¯ Rust ç¨‹å¼ç¢¼ã€‚
*   **Sidecar**: åœ¨é–‹ç™¼æ¨¡å¼ä¸‹ï¼Œæœƒè‡ªå‹•ä½¿ç”¨æ‚¨ç³»çµ±å…§å»ºçš„ `ffmpeg`ã€‚

---

## ğŸ— æ‰“åŒ…èˆ‡ç™¼å¸ƒæµç¨‹ (Build & Release)

æœ¬å°ˆæ¡ˆæ¡ç”¨ã€Œåˆ†é›¢å¼å»ºç½®ç­–ç•¥ã€ä»¥ç¢ºä¿æœ€å¤§çš„è·¨å¹³å°ç›¸å®¹æ€§ã€‚

### 1. Windows æ‰“åŒ…
ä½¿ç”¨ `build_windows.yml` è…³æœ¬ã€‚å®ƒæœƒè‡ªå‹•ç¶‘ç¶å°ˆç”¨çš„ Windows FFmpeg åŸ·è¡Œæª”ã€‚
*   **æŒ‡ä»¤**: æ¨™æº– Tauri build (æˆ–é€é GitHub Actions)ã€‚
*   **ç”¢å‡º**: `.exe` å®‰è£æª”èˆ‡ `.msi` æª”ã€‚

### 2. Linux æ‰“åŒ…
ä½¿ç”¨ `build_linux.yml` è…³æœ¬ (Debian å°ˆç”¨)ã€‚å®ƒæ¡ç”¨ **å‹•æ…‹é‡æ–°å‘½åç­–ç•¥** ä¾†é¿å…èˆ‡ç³»çµ±å¥—ä»¶è¡çªã€‚
*   **æ©Ÿåˆ¶**: åœ¨ CI å»ºç½®éç¨‹ä¸­ï¼Œè‡ªå‹•å°‡ç¨‹å¼ç¢¼ä¸­çš„ `ffmpeg` åƒç…§æ”¹åç‚º `stt-ffmpeg`ã€‚
*   **ç”¢å‡º**: `.deb` å®‰è£åŒ… (ç¬¦åˆ Debian åš´æ ¼é™åˆ¶è¦ç¯„)ã€‚

---

## ğŸ“‚ å°ˆæ¡ˆæ¶æ§‹ (Project Structure)

æœ¬å°ˆæ¡ˆæ¡ç”¨ **æ¨¡çµ„åŒ–æœå‹™å°å‘æ¶æ§‹ (Modular Service-Oriented Architecture)**ï¼š

*   **`src/`** (Frontend): React + TypeScript ä½¿ç”¨è€…ä»‹é¢ã€‚
*   **`src-tauri/src/commands/`** (Controller): å®šç¾©å¯ä¾›å‰ç«¯å‘¼å«çš„ Tauri æŒ‡ä»¤å±¤ã€‚
*   **`src-tauri/src/services/`** (Business Logic): æ ¸å¿ƒåŠŸèƒ½å¯¦ä½œå€ (FFmpeg é‚è¼¯ã€å ±å‘Šç”Ÿæˆç­‰)ã€‚
*   **`src-tauri/src/models/`** (Data): å…±ç”¨çš„è³‡æ–™çµæ§‹å®šç¾©ã€‚

---

## ğŸ“ æˆæ¬Š (License)

æœ¬å°ˆæ¡ˆç‚ºå°ˆæœ‰è»Ÿé«” (Proprietary)ï¼Œä¿ç•™æ‰€æœ‰æ¬Šåˆ©ã€‚
